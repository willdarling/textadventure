<!DOCTYPE html>
<!lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bartholomew's Adventure</title>

    <style>
        img {
            height: 400px;
            width: 400px;
        }

    </style>

</head>
    <h1>Welcome to Bartholomew's Adventure!</h1>
    <h3>You are Bartholomew who *complicated backstory* and lives in a house on a cloud.</h3>
    <p id="ptag"></p>
    <img id="imagetag" src="">
    <p></p>
    <button id="firstbutton"></button> <button id="secondbutton"></button>
    <a> target="_blank" href="https://youtu.be/58mah_0Y8TU" <p id="gameovertag"></p> <a/>

    <script>

        var firstButtonEl = document.querySelector("#firstbutton");
        var secondButtonEl = document.querySelector("#secondbutton");
        var ptagEl = document.querySelector("#ptag");
        var gameOverTagEl = document.querySelector("#gameovertag");
        var imageTagEl = document.querySelector("#imagetag");

        var currentPage = undefined;
        var first = undefined;
        var second = undefined;

        function updatePage(page){
            ptagEl.innerHTML = page.question;
            document.getElementById("imagetag").src = page.image;
            var optionKeys = Object.getOwnPropertyNames(page); // get all the object properties ex. 'question', 'outside', 'inside'
            var qIdx = optionKeys.indexOf('question'); // find 'question'
            optionKeys.splice(qIdx, 2); // remove 'question'
            first = optionKeys[0];
            if(first===undefined)
                endGame();
            firstButtonEl.innerHTML = first;
            second = optionKeys[1];
            secondButtonEl.innerHTML = second;
            currentPage = page;
        }


        //Get rid of the buttons-->Give a game over message
        function endGame(){
            firstButtonEl.remove();
            secondButtonEl.remove();
            gameOverTagEl.innerHTML = "Game Over.";
        }


        var story = {
            question: "You just woke up, what a beautiful day! Will you brush your teeth?",
            image: "http://www.remodelmybathroom.com/wp-content/uploads/2013/03/drop-insink1.jpg",
            yes: {
                question: "Healthy! What will you eat for breakfast?",
                image: "http://www.losingweightdone.com/wp-content/uploads/2015/02/o-EMPTY-PLATE-FOOD-facebook.jpg",
                candy: {
                    question: "You die of diabetes.",
                    image: "http://www.voont.com/files/images/slideshow/20-photos-to-cure-polio/2.jpg"
                },
                eggs: {
                    question: "Good choice! How will you spend the rest of your day?",
                    image: "http://tainandable.com/wp-content/uploads/2013/10/man-thinking.jpg",
                    outside: {
                        question: "You step outside and immediately fall 35,000 feet straight down into a dumpster (you live in a cloud remember!?).",
                        image: "http://www.joemartinfitness.com/wp-content/uploads/2014/02/dumpster-diving.jpg"
                    },
                    inside: {
                        question: "Yes! Remain cloistered and live happily for the rest of your life. You win!",
                        image: "http://medias.photodeck.com/7043a914-7681-11e0-b82a-bd5d5f912ec4/GTAC%20Cloud%20house%208542%20v10mrg_xlarge.jpg"
                    }
                }
            },
            no :{
                question: "You die of gingivitis.",
                image: "http://tjhouston.com/wp-content/uploads/2013/03/rip.jpg"
            }
        };


        firstButtonEl.addEventListener("click", function() {
            updatePage(currentPage[first]);
        });

        secondButtonEl.addEventListener("click", function() {
            updatePage(currentPage[second]);
        });

        updatePage(story);

    </script>
</body>
</html>