<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bartholomew's Adventure</title>
</head>
<body>
    <h1>Welcome to Bartholomew's Adventure!</h1>
    <h3>You are Bartholomew who *complicated backstory* and lives in a house on a cloud.</h3>
    <p id="ptag"></p>
    <button id="firstbutton"></button> <button id="secondbutton"></button>

    <script>

        var firstButtonEl = document.querySelector("#firstbutton");
        var secondButtonEl = document.querySelector("#secondbutton");
        var ptagEl = document.querySelector("#ptag");

        var currentPage = undefined;
        var first = undefined;
        var second = undefined;

        function updatePage(page){
            ptagEl.innerHTML = page.question;
            var optionKeys = Object.getOwnPropertyNames(page); // get all the object properties ex. 'question', 'outside', 'inside'
            var qIdx = optionKeys.indexOf('question'); // find 'question'
            optionKeys.splice(qIdx, 1); // remove 'question'
            first = optionKeys[0];
            firstButtonEl.innerHTML = first;
            second = optionKeys[1];
            secondButtonEl.innerHTML = second;
            currentPage = page;
        }

        var story = {
            question: "You just woke up, what a beautiful day! Will you brush your teeth?",
            yes: {
                question: "Healthy! What will you eat for breakfast?",
                candy: {
                    question: "You die of diabetes."
                },
                eggs: {
                    question: "Good choice! How will you spend the rest of your day?",
                    outside: {
                        question: "You step outside and immediately fall 35,000 feet straight down into a dumpster (you live in a cloud remember!?)."
                    },
                    inside: {
                        question: "Yes! Remain cloistered and live happily for the rest of your life. You win!"
                    }
                }
            },
            no :{
                question: "You die of gingivitis."
            }
        };


        firstButtonEl.addEventListener("click", function() {
            updatePage(currentPage[first]);
        });

        secondButtonEl.addEventListener("click", function() {
            updatePage(currentPage[second]);
        });

        updatePage(story);

    </script>
</body>
</html>